FROM		taig/latex

MAINTAINER	Niklas Klein "mail@taig.io"

RUN			apt-get update

RUN			apt-get install -y make && \
			apt-get clean

# Install minted 2.0 for syntax highlighting
RUN			apt-get install -y python-pygments && \
			apt-get clean && \
			wget http://mirrors.ctan.org/macros/latex/contrib/minted.zip && \
			unzip minted.zip && \
			rm -r minted.zip && \
			cd minted && \
			make && \
			mkdir -p ~/texmf/tex/latex/minted && \
			mv *.sty ~/texmf/tex/latex/minted && \
			cd .. && \
			rm -r minted

# Install aspell for spell checking
RUN			apt-get install -y aspell && \
			apt-get clean && \
			ln -s ~/thesis/dictionary ~/.aspell.en.pws

# Install inkscape for svg processing
RUN			apt-get install -y inkscape && \
			apt-get clean

# Install diagbox for diagonal table cell dividers
RUN			wget http://mirrors.ctan.org/macros/latex/contrib/diagbox.zip && \
			unzip diagbox.zip && \
			rm diagbox.zip && \
			cd diagbox && \
			latex diagbox.ins && \
			mkdir -p ~/texmf/tex/latex/diagbox && \
			mv *.sty ~/texmf/tex/latex/diagbox && \
			cd .. && \
			rm -r diagbox/

RUN			mkdir /root/thesis
WORKDIR		/root/thesis